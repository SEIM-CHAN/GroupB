{% block contents %}
<link rel="stylesheet" href="{% static 'css/nice_board/style.css' %}">
{% endblock %}
{% block contents %}
<div class="container">

    {% if thread %}
    <div class="row">
        <h2 class="col-6">{{ thread.title }}</h2>
        <div class="col-6">
            <ul class="row">
                <li class="col-12">作成者<span>{{ thread.user }}</span></li>
                <li class="col-12">作成日時<span>{{ thread.created_at }}</span></li>
                <li class="col-12">最終更新日時<span>{{ thread.created_at }}</span></li>
            </ul>
        </div>
    </div>
    <div class="row">
        {% if thread.desc %}
        <p>{{ thread.desc }}</p>
        {% else %}
        <p>説明文はありません</p>
        {% endif %}
    </div>
    {% else %}
    <div class="row">
        <h2>スレッド情報がありません</h2>
    </div>
    {% endif %}
</div>
<div id="contents" class="container">
    {% for comment in comments %}
    {% if forloop.first %}
    <dl class="list-group">
        {% endif %}
        <div class="list-group-item list-group-item-wite">
            <div class="d-flex">
                <dt class="comment__number h5">{{ forloop.counter }}</dt>
                {% if comment.user %}
                <dd class="comment__user ms-3 h5">{{ comment.user }}</dd>
                {% else %}
                <dd class="comment__user ms-3 h5">名無し</dd>
                {% endif%}
                <dd class="ms-3 h5">{{ comment.created_at }}</dd>
                {% if not user.is_anonymous %}
                {% if comment.user.id or thread.user.id == user.id %}
                <a class="ms-auto btn btn-outline-danger btn-sm"
                    href="{% url 'nice_board:comment_update' thread.id comment.id %}">
                    {% if not user.id == comment.user.id and thread.user.id == user.id %}
                    管理者権限による
                    {% endif %}
                    削除</a>
                {% endif %}
                {% endif %}


            </div>
            <dd>{{ comment.text }}</dd>
        </div>
        {% if forloop.last %}
    </dl>
    {% endif %}
    {% empty %}
    <div class="row">
        <p>投稿はまだありません</p>
    </div>
    {% endfor %}
</div>
<div id="commentCreateForm" class="container">

</div>
<div class="container" id="contents">
    <div class="row">
        <div class="col-12">
            <form id="form" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <table class="w-100">{{ form.as_table}}</table>
                <button id="formSubmit" class="btn btn-outline-primary" type="submit">投稿</button>
                <a id="formCancel" class="btn btn-outline-warning" href="{% url 'nice_board:comments' pk %}">キャンセル</a>
            </form>
        </div>
    </div>
</div>

{% endblock  %}